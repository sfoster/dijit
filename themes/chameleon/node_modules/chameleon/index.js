var strSwap = function(haystack, str1, str2) { 
  // simple substring substitution
  var idx = haystack.indexOf(str1), strOut = "";
  if(idx == -1) {
    return haystack;
  } else {
    do {
      idx = haystack.indexOf(str1);
      strOut += haystack.substring(0, idx) + str2;
      haystack = haystack.substring(idx + str1.length); 
    }
    while(haystack.length && haystack.indexOf(str1) > -1);

    strOut += haystack;
    return strOut;
  }
};


var transform = function(strIn, args) {
  var strOut = strIn;
  var empty = {}; /// guard against unwanted enumerables on Object
  for(var key in args){
    if(key in empty) continue;
    console.log("subs: " + args[key][0] + " for " + args[key][1]);
    strOut = strSwap(strOut, args[key][0], args[key][1]);
  }
  return strOut;
}

module.exports = {
  transform: transform
};